(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,a){},46:function(e,t,a){e.exports=a.p+"static/media/dropzone.3f7e59cc.svg"},47:function(e,t,a){e.exports=a.p+"static/media/progress.bb0534c8.svg"},63:function(e,t,a){e.exports=a(89)},68:function(e,t,a){},69:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(24),i=a.n(l),o=(a(68),a(8)),s=a(6),c=a(11),u=a(9),p=a(10),d=(a(69),a(27)),m=a(7),h=a(115),f=a(110),g=a(111),b=a(108),v=a(114),E=a(25),O=a(55),j=a(113),y=a(109),k=a(106),w=(a(38),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"About"},r.a.createElement("h1",null,"About"),r.a.createElement(k.a,null),r.a.createElement("br",null),"This web application was created by Matthew Tang and Christianna Xu.",r.a.createElement("br",null),r.a.createElement("br",null),"To use this service, upload a picture and the URLs visible in the image will be displayed so you can easily copy without typing them.")}}]),t}(r.a.Component)),S=a(35),D=a(18),C=a(46),F=a.n(C),N=(a(74),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={hightlight:!1},a.fileInputRef=r.a.createRef(),a.openFileDialog=a.openFileDialog.bind(Object(D.a)(a)),a.onFilesAdded=a.onFilesAdded.bind(Object(D.a)(a)),a.onDragOver=a.onDragOver.bind(Object(D.a)(a)),a.onDragLeave=a.onDragLeave.bind(Object(D.a)(a)),a.onDrop=a.onDrop.bind(Object(D.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"openFileDialog",value:function(){this.props.disabled||this.fileInputRef.current.click()}},{key:"onFilesAdded",value:function(e){if(!this.props.disabled){var t=e.target.files;if(this.props.onFilesAdded){var a=this.fileListToArray(t);this.props.onFilesAdded(a)}}}},{key:"fileListToArray",value:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e.item(a));return t}},{key:"onDragOver",value:function(e){e.preventDefault(),this.props.disabled||this.setState({hightlight:!0})}},{key:"onDragLeave",value:function(){this.setState({hightlight:!1})}},{key:"onDrop",value:function(e){if(e.preventDefault(),!this.props.disabled){var t=e.dataTransfer.files;if(this.props.onFilesAdded){var a=this.fileListToArray(t);this.props.onFilesAdded(a)}this.setState({hightlight:!1})}}},{key:"render",value:function(){return r.a.createElement("div",{id:"Dropzone",onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onClick:this.openFileDialog,style:{cursor:this.props.disabled?"default":"pointer"}},r.a.createElement("img",{alt:"upload",id:"Icon",src:F.a}),r.a.createElement("input",{ref:this.fileInputRef,id:"FileInput",type:"file",accept:"image/*",onChange:this.onFilesAdded}),r.a.createElement("span",null,"Upload Picture"))}}]),t}(r.a.Component)),P=(a(75),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"ProgressBar"},r.a.createElement("div",{id:"Progress",style:{width:this.props.progress+"%"}}))}}]),t}(r.a.Component)),R=a(47),A=a.n(R),L="https://ocr-hyperlink-vision.herokuapp.com/upload",x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onFilesAdded=function(e){a.setState(function(t){return{files:t.files.concat(e)}},a.uploadFiles(e[0]))},a.renderProgress=function(e){var t=a.state.uploadProgress[e.name];if(a.state.uploading||a.state.successfullUploaded)return r.a.createElement("div",{id:"ProgressWrapper"},r.a.createElement(P,{progress:t?t.percentage:0}),r.a.createElement("img",{id:"CheckIcon",alt:"done",src:A.a,style:{opacity:t&&"done"===t.state?.5:0}}))},a.uploadFiles=function(e){a.setState({uploadProgress:{},uploading:!0});try{a.sendRequest(e),a.setState({successfullUploaded:!0,uploading:!1})}catch(t){a.setState({successfullUploaded:!0,uploading:!1})}},a.sendRequest=function(e){var t=new XMLHttpRequest;t.upload.addEventListener("progress",function(t){if(t.lengthComputable){var n=Object(S.a)({},a.state.uploadProgress);n[e.name]={state:"pending",percentage:t.loaded/t.total*100},a.setState({uploadProgress:n})}}),t.upload.addEventListener("load",function(t){var n=Object(S.a)({},a.state.uploadProgress);n[e.name]={state:"done",percentage:100},a.setState({uploadProgress:n})}),t.upload.addEventListener("error",function(t){var n=Object(S.a)({},a.state.uploadProgress);n[e.name]={state:"error",percentage:0},a.setState({uploadProgress:n})});var n=new FormData;n.append("image",e,"image"),console.log("Uploading..."),t.open("POST",L),t.send(n),t.onreadystatechange=function(){t.readyState===XMLHttpRequest.DONE&&(console.log(JSON.parse(t.response)),a.props.storeResults(JSON.parse(t.response)),a.props.nextPage())}},a.state={files:[],uploading:!1,uploadProgress:{},successfullUploaded:!1},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"Uploading"},r.a.createElement("h1",null,"Upload"),r.a.createElement(k.a,null),r.a.createElement("h2",null,"Select a picture to upload!"),r.a.createElement("br",null),r.a.createElement("center",null,r.a.createElement(N,{onFilesAdded:this.onFilesAdded,disabled:this.state.uploading||this.state.successfullUploaded})),r.a.createElement("br",null),r.a.createElement("br",null),this.state.files.length>0?r.a.createElement("div",{id:"Files"},"Uploading image...",r.a.createElement("br",null),"(this can take up to 5-10 secs for large images)"):"")}}]),t}(r.a.Component),U=a(107),T=a(48),I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={copied:null},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{className:"Results"},r.a.createElement("h1",null,"Results"),r.a.createElement(k.a,null),r.a.createElement("br",null),0===this.props.links.length?r.a.createElement("div",null,r.a.createElement("h2",null,"No links detected! Please try again."),r.a.createElement("br",null)):"",this.props.links.map(function(a,n){return r.a.createElement("center",{key:n},r.a.createElement(j.a,{width:"75%"},r.a.createElement(U.a,{className:t.card,style:{whiteSpace:"unset",wordWrap:"break-word"}},r.a.createElement(b.a,{className:t.title},r.a.createElement("h3",null,a.value)),r.a.createElement("a",{href:a.href},r.a.createElement(v.a,{variant:"contained",color:"primary",className:t.button},"Visit link")),r.a.createElement(T.CopyToClipboard,{text:a.href,onCopy:function(){return e.setState({copied:n})}},r.a.createElement(v.a,{variant:"contained",color:"primary",className:t.button},e.state.copied!==n?"Copy link":"Copied!")))))}),r.a.createElement(v.a,{variant:"contained",color:"primary",className:t.button,onClick:function(){return window.location.reload()}},"Upload another"))}}]),t}(r.a.Component),W=Object(m.a)(function(e){return{card:{marginBottom:20,padding:9,paddingTop:0,paddingBottom:20,flexWrap:"wrap"},title:{fontSize:14},header:{fontSize:18},button:{fontSize:13,marginRight:2*e.spacing(1),marginLeft:2*e.spacing(1)}}})(I),B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).nextPage=function(){a.setState({page:"results"})},a.storeResults=function(e){a.setState({links:e})},a.state={page:"upload",links:[]},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"vision"},"upload"===this.state.page?r.a.createElement(x,{nextPage:this.nextPage,storeResults:this.storeResults}):r.a.createElement(W,{links:this.state.links}))}}]),t}(r.a.Component),z=r.a.createElement(d.a,null,r.a.createElement("div",{className:"Router"},r.a.createElement(E.c,null,r.a.createElement(E.a,{exact:!0,path:"/",component:B}),r.a.createElement(E.a,{path:"/about",component:w})))),q=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(y.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center"},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(j.a,{width:"75%",maxWidth:1e3},r.a.createElement(O.a,{className:e.root},z))))}}]),t}(r.a.Component),J=Object(m.a)(function(e){return{root:{padding:e.spacing(3,2),overflowScrolling:"touch",WebkitOverflowScrolling:"touch"},appBarSpacer:e.mixins.toolbar}})(q),H=(a(88),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(h.a,null),r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(b.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title},r.a.createElement(d.a,null,r.a.createElement(d.b,{activeClassName:"active",to:"/",type:"menu",id:"Title"},"OCR Hyperlink Vision"))),r.a.createElement(d.a,null,r.a.createElement(d.b,{to:"/about",className:"links",id:"about"},r.a.createElement(v.a,{color:"inherit"},"About"))))),r.a.createElement("main",null,r.a.createElement("div",null),r.a.createElement(J,null)))}}]),t}(r.a.Component)),M=Object(m.a)(function(e){return{title:{flexGrow:1,paddingRight:"0px"}}})(H),X=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(M,null))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[63,1,2]]]);
//# sourceMappingURL=main.18673d80.chunk.js.map